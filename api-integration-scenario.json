{
  "id": "api-integration-001",
  "name": "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º API",
  "description": "–¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å API –Ω–∞ –ø–æ—Ä—Ç—É 8181",
  "category": "api_test",
  "tags": ["api", "–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è", "—Ç–µ—Å—Ç"],
  "start_node": "api_greeting",
  "nodes": [
    {
      "id": "api_greeting",
      "type": "announce",
      "parameters": {
        "message": "–ü—Ä–∏–≤–µ—Ç! –ü—Ä–æ–≤–µ—Ä–∏–º –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –≤–Ω–µ—à–Ω–∏–º API. –ß—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å?\n1. –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± API\n2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ\n3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã"
      },
      "next_nodes": ["ask_api_action"]
    },
    {
      "id": "ask_api_action",
      "type": "ask",
      "parameters": {
        "question": "–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ (1-3):",
        "inputType": "choice"
      },
      "next_nodes": ["parse_api_action"]
    },
    {
      "id": "parse_api_action",
      "type": "parse",
      "parameters": {
        "script": "if(input=='1') {context.action='info'} else if(input=='2') {context.action='data'} else if(input=='3') {context.action='status'} else {context.action='unknown'}"
      },
      "next_nodes": ["route_api_action"]
    },
    {
      "id": "route_api_action",
      "type": "condition",
      "parameters": {
        "condition": "context.action"
      },
      "conditions": {
        "info": "get_api_info",
        "data": "ask_test_data",
        "status": "get_api_status",
        "default": "unknown_action"
      }
    },
    {
      "id": "get_api_info",
      "type": "api-request",
      "parameters": {
        "service": "external-api",
        "endpoint": "/api/info",
        "method": "GET",
        "baseUrl": "http://localhost:8181",
        "timeout": 5000
      },
      "conditions": {
        "success": "show_api_info",
        "error": "api_error",
        "timeout": "api_timeout"
      }
    },
    {
      "id": "show_api_info",
      "type": "announce",
      "parameters": {
        "message": "üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± API:\nüîπ –°–µ—Ä–≤–∏—Å: {api_response.service}\nüîπ –í–µ—Ä—Å–∏—è: {api_response.version}\nüîπ –ó–∞–ø—Ä–æ—Å–æ–≤: {api_response.stats.requests}\nüîπ –ü–∞–º—è—Ç—å: {api_response.stats.memory_usage}\nüîπ –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: {api_response.stats.uptime}"
      },
      "next_nodes": ["ask_more_api"]
    },
    {
      "id": "ask_test_data",
      "type": "ask",
      "parameters": {
        "question": "–í–≤–µ–¥–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏:",
        "inputType": "text"
      },
      "next_nodes": ["send_test_data"]
    },
    {
      "id": "send_test_data",
      "type": "api-request",
      "parameters": {
        "service": "external-api",
        "endpoint": "/api/data",
        "method": "POST",
        "baseUrl": "http://localhost:8181",
        "headers": {
          "Content-Type": "application/json"
        },
        "data": {
          "user_input": "{user_input}",
          "session_id": "{session_id}",
          "timestamp": "{current_time}"
        },
        "timeout": 5000
      },
      "conditions": {
        "success": "show_api_response",
        "error": "api_error",
        "timeout": "api_timeout"
      }
    },
    {
      "id": "show_api_response",
      "type": "announce",
      "parameters": {
        "message": "‚úÖ –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã!\nüì• –ü–æ–ª—É—á–µ–Ω–æ: {api_response.received.user_input}\nüÜî ID –æ–±—Ä–∞–±–æ—Ç–∫–∏: {api_response.processed.id}\n‚è∞ –í—Ä–µ–º—è: {api_response.processed.timestamp}\nüìä –°—Ç–∞—Ç—É—Å: {api_response.status}"
      },
      "next_nodes": ["ask_more_api"]
    },
    {
      "id": "get_api_status",
      "type": "api-request",
      "parameters": {
        "service": "external-api",
        "endpoint": "/api/info",
        "method": "GET",
        "baseUrl": "http://localhost:8181",
        "timeout": 3000
      },
      "conditions": {
        "success": "show_api_status",
        "error": "api_error",
        "timeout": "api_timeout"
      }
    },
    {
      "id": "show_api_status",
      "type": "announce",
      "parameters": {
        "message": "üü¢ API —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ!\nüìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:\n  ‚Ä¢ –ó–∞–ø—Ä–æ—Å–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: {api_response.stats.requests}\n  ‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏: {api_response.stats.memory_usage}\n  ‚Ä¢ –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: {api_response.stats.uptime}"
      },
      "next_nodes": ["ask_more_api"]
    },
    {
      "id": "api_error",
      "type": "announce",
      "parameters": {
        "message": "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ API!\n–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:\n‚Ä¢ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ localhost:8181\n‚Ä¢ –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å endpoint'–∞\n‚Ä¢ –°–µ—Ç–µ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ"
      },
      "next_nodes": ["ask_more_api"]
    },
    {
      "id": "api_timeout",
      "type": "announce",
      "parameters": {
        "message": "‚è∞ –ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç API!\n–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:\n‚Ä¢ –ú–µ–¥–ª–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–∏—Å–∞\n‚Ä¢ –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é\n‚Ä¢ –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ API"
      },
      "next_nodes": ["ask_more_api"]
    },
    {
      "id": "unknown_action",
      "type": "announce",
      "parameters": {
        "message": "‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ. –í—ã–±–µ—Ä–∏—Ç–µ:\n1. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± API\n2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ\n3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å"
      },
      "next_nodes": ["ask_api_action"]
    },
    {
      "id": "ask_more_api",
      "type": "ask",
      "parameters": {
        "question": "–•–æ—Ç–∏—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –µ—â–µ –∫–∞–∫–∏–µ-—Ç–æ –¥–µ–π—Å—Ç–≤–∏—è —Å API? (–¥–∞/–Ω–µ—Ç)",
        "inputType": "confirmation"
      },
      "next_nodes": ["parse_more_api"]
    },
    {
      "id": "parse_more_api",
      "type": "parse",
      "parameters": {
        "script": "context.continue = input.toLowerCase().includes('–¥–∞')"
      },
      "next_nodes": ["check_continue_api"]
    },
    {
      "id": "check_continue_api",
      "type": "condition",
      "parameters": {
        "condition": "context.continue == true"
      },
      "conditions": {
        "true": "api_greeting",
        "false": "api_goodbye"
      }
    },
    {
      "id": "api_goodbye",
      "type": "announce",
      "parameters": {
        "message": "üëã –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –∑–∞–≤–µ—Ä—à–µ–Ω–æ!\n–°–ø–∞—Å–∏–±–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏!"
      },
      "next_nodes": ["end_api_session"]
    },
    {
      "id": "end_api_session",
      "type": "announce",
      "parameters": {
        "message": "–°–µ—Å—Å–∏—è API —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞."
      },
      "next_nodes": []
    }
  ],
  "context": {
    "action": null,
    "continue": false,
    "user_input": null,
    "session_id": null,
    "current_time": null,
    "api_response": null
  }
}
