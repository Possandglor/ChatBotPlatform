# Chatbot Platform - Core Services + Frontend

–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–∞—Ç-–±–æ—Ç–∞–º–∏ –Ω–∞ –±–∞–∑–µ Quarkus 3.24.3 –∏ React 19.1.1.

## –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### ‚úÖ –ì–æ—Ç–æ–≤—ã–µ Core —Å–µ—Ä–≤–∏—Å—ã:
- **API Gateway** (–ø–æ—Ä—Ç 8090) - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ PowerStone + Chameleon
- **Chat Service** (–ø–æ—Ä—Ç 8091) - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ –¥–∏–∞–ª–æ–≥–æ–≤
- **Orchestrator** (–ø–æ—Ä—Ç 8092) - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Å NLU –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
- **Scenario Service** (–ø–æ—Ä—Ç 8093) - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏
- **NLU Service** (–ø–æ—Ä—Ç 8098) - –∞–Ω–∞–ª–∏–∑ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞

### ‚úÖ –ì–æ—Ç–æ–≤—ã–π Frontend:
- **React Frontend** (–ø–æ—Ä—Ç 3000) - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  - üéØ Dashboard —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º —Å–µ—Ä–≤–∏—Å–æ–≤
  - üí¨ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Ç-–±–æ—Ç–∞
  - üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ (–∑–∞–≥–ª—É—à–∫–∞)
  - üìä –°–ø–∏—Å–æ–∫ –¥–∏–∞–ª–æ–≥–æ–≤ (–∑–∞–≥–ª—É—à–∫–∞)
  - üß† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ NLU (–∑–∞–≥–ª—É—à–∫–∞)
  - üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (–∑–∞–≥–ª—É—à–∫–∞)
  - üìù –õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã (–∑–∞–≥–ª—É—à–∫–∞)

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend:
- **Java 21** + **Quarkus 3.24.3** + uber-jar
- **PostgreSQL** —Å—Ö–µ–º–∞ –≥–æ—Ç–æ–≤–∞ (–Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞)
- **API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- **NLU** —Å –∞–Ω–∞–ª–∏–∑–æ–º –∏–Ω—Ç–µ–Ω—Ç–æ–≤ –∏ —Å—É—â–Ω–æ—Å—Ç–µ–π

### Frontend:
- **React 19.1.1** + **TypeScript**
- **Ant Design** UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **Zustand** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **Axios** –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ —Å CORS
- **React Router** –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- **–°–∞–ª–∞—Ç–æ–≤–æ-—á–µ—Ä–Ω–∞—è** –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è —Ç–µ–º–∞

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### Backend —Å–µ—Ä–≤–∏—Å—ã
```bash
# –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
./mvnw clean package -DskipTests

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
java -jar api-gateway/target/*-runner.jar &
java -jar chat-service/target/*-runner.jar &
java -jar orchestrator/target/*-runner.jar &
java -jar scenario-service/target/*-runner.jar &
java -jar nlu-service/target/*-runner.jar &
```

### Frontend
```bash
cd frontend

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ó–∞–ø—É—Å–∫ –≤ dev —Ä–µ–∂–∏–º–µ
npm run dev

# –°–±–æ—Ä–∫–∞ –¥–ª—è production
npm run build
```

### Docker (–ø–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞)
```bash
# –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose build

# –ó–∞–ø—É—Å–∫ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã
docker-compose up -d
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   React App     ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   API Gateway    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ  Orchestrator   ‚îÇ
‚îÇ   (Port 3000)   ‚îÇ    ‚îÇ   (Port 8090)    ‚îÇ    ‚îÇ  (Port 8092)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ                        ‚îÇ
                                ‚îÇ                        ‚îú‚îÄ‚îÄ‚îÄ Chat Service (8091)
                                ‚îÇ                        ‚îú‚îÄ‚îÄ‚îÄ Scenario Service (8093)
                                ‚îÇ                        ‚îî‚îÄ‚îÄ‚îÄ NLU Service (8098)
                                ‚îÇ
                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                       ‚îÇ  External APIs   ‚îÇ
                       ‚îÇ  (Port 8181)     ‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### ‚úÖ –†–∞–±–æ—Ç–∞—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- **–ü–æ–ª–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏** —Å NLU –∞–Ω–∞–ª–∏–∑–æ–º –∏–Ω—Ç–µ–Ω—Ç–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è** –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–µ—Å—Å–∏–∏
- **–¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞** - —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å —Ñ–ª–∞–≥–æ–º `is_entry_point: true`
- **API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- **–°—Ü–µ–Ω–∞—Ä–∏–∏** —Å 8 —Ç–∏–ø–∞–º–∏ —É–∑–ª–æ–≤ –∏ —É—Å–ª–æ–≤–Ω—ã–º –≤–µ—Ç–≤–ª–µ–Ω–∏–µ–º
- **–ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏** –ø–æ –∏–Ω—Ç–µ–Ω—Ç–∞–º
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **–¢–µ–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞** —Å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º

### üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ:
- JSON —Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–ª—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –¢–∞–±–ª–∏—Ü–∞ –¥–∏–∞–ª–æ–≥–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ–Ω—Ç–∞–º–∏ NLU
- –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

## API Endpoints

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏–∞–ª–æ–≥–æ–≤:
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏
POST /api/v1/chat/sessions

# –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
POST /api/v1/chat/messages
{
  "session_id": "uuid",
  "message": "–ü—Ä–∏–≤–µ—Ç"
}

# –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
DELETE /api/v1/chat/sessions/{sessionId}
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏:
```bash
# –°–ø–∏—Å–æ–∫ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
GET /api/v1/scenarios

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è (—Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞)
GET /api/v1/scenarios/entry-point

# –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è
POST /api/v1/scenarios
{
  "name": "–ù–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
  "is_entry_point": true,
  "nodes": [...]
}
```

### NLU –∞–Ω–∞–ª–∏–∑:
```bash
# –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞
POST /api/v1/nlu/analyze
{
  "text": "–•–æ—á—É –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å"
}

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–Ω—Ç–æ–≤
POST /api/v1/nlu/test
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
- `POWERSTONE_URL` - URL PowerStone —Å–µ—Ä–≤–∏—Å–∞
- `POWERSTONE_KEY` - –∫–ª—é—á PowerStone
- `NODE_ENV` - —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã (development/production)

### –ü–æ—Ä—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤:
- **Frontend**: 3000
- **API Gateway**: 8090
- **Chat Service**: 8091
- **Orchestrator**: 8092
- **Scenario Service**: 8093
- **NLU Service**: 8098

## –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### –¢–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ):
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è **–∑–∞–º–æ–∫–∞–Ω–∞**
- –í—Å–µ–≥–¥–∞ —Ä–æ–ª—å **admin**
- –î–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º

### –ü–ª–∞–Ω–∏—Ä—É–µ–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
- PowerStone + Chameleon
- –†–æ–ª–∏: admin, editor, viewer
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º

## –¢–µ–º—ã –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è

### –°–∞–ª–∞—Ç–æ–≤–æ-—á–µ—Ä–Ω–∞—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è —Ç–µ–º–∞:
- **–û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç**: #52c41a (—Å–∞–ª–∞—Ç–æ–≤—ã–π)
- **–¢–µ–º–Ω–∞—è —Ç–µ–º–∞**: #141414 —Ñ–æ–Ω
- **–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞**: #ffffff —Ñ–æ–Ω
- **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ**: –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–∫—Ä–∏—Ç–∏—á–Ω–æ):
1. **JSON —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤** —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
2. **–¢–∞–±–ª–∏—Ü–∞ –¥–∏–∞–ª–æ–≥–æ–≤** —Å –ø–æ–∏—Å–∫–æ–º –∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ NLU –∏–Ω—Ç–µ–Ω—Ç–∞–º–∏**

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–≤–∞–∂–Ω–æ):
4. **PostgreSQL –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
5. **–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è** —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –ª–æ–≥–∞–º–∏
6. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** —Å —Ä–æ–ª—è–º–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ):
7. **–í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤** (low-code)
8. **WebSocket** –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
9. **–≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç** —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ (–Ω—É–∂–Ω–∞ PostgreSQL)
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∑–∞–º–æ–∫–∞–Ω–∞ (–Ω—É–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã - –∑–∞–≥–ª—É—à–∫–∏
- –ù–µ—Ç WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ Dashboard
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –ø–æ—Ä—Ç—ã —Å–≤–æ–±–æ–¥–Ω—ã
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

**–í–µ—Ä—Å–∏—è**: 1.0.0-SNAPSHOT  
**–î–∞—Ç–∞**: 24.09.2025  
**–°—Ç–∞—Ç—É—Å**: MVP –≥–æ—Ç–æ–≤, –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
